<div class="col-md-4 mb-4">
  <div class="card h-100 shadow-sm rounded-xl">
    <div class="card-body">
      <h5 class="card-title mb-1">
        {% if include.course.url %}
          <a href="{{ include.course.url | relative_url }}">{{ include.course.title }}</a>
        {% else %}
          {{ include.course.title }}
        {% endif %}
      </h5>
      <p class="card-subtitle text-muted">
        {% if include.course.code %}{{ include.course.code }} · {% endif %}
        {% if include.course.institution %}{{ include.course.institution }} · {% endif %}
        {% if include.course.term %}{{ include.course.term }}{% endif %}
        {% if include.course.level %} · {{ include.course.level }}{% endif %}
      </p>

      {% if include.course.description %}
        <p class="mt-2">{{ include.course.description }}</p>
      {% endif %}

      {%- assign raw_tags = include.course.tags -%}
      {% if raw_tags %}
        {%- assign tags = raw_tags -%}
        {%- unless tags.first -%}{% assign tags = raw_tags | split: ',' %}{%- endunless -%}
        <p class="mt-2">
          {% for t in tags %}
            {% assign t_label = t | strip %}
            {% assign t_class = t_label | downcase | replace: ' ', '-' %}
            <span class="badge badge-light border topic-{{ t_class }} mr-1">{{ t_label }}</span>
          {% endfor %}
        </p>
      {% endif %}

      {% if include.course.links and include.course.links.size > 0 %}
        <div class="mt-2">
          {% for link in include.course.links %}
            <a href="{{ link.url }}" class="btn btn-sm btn-outline-primary mr-1" target="_blank" rel="noopener noreferrer">
              {{ link.label }}
            </a>
          {% endfor %}
        </div>
      {% endif %}
    </div>
  </div>
</div>
